{
  "database": {
    "name": "awslabbigdataagentstack_tripdata_db",
    "purpose": "NYC Taxi Trip Data Lake - Contains comprehensive taxi trip records including green taxis and yellow taxis with detailed trip information, fare calculations, and location data",
    "creation_time": "2025-10-17T15:58:43-07:00",
    "storage_location": "s3://670934798598-us-west-2-big-data-agent-workshop/data/",
    "data_format": "Parquet",
    "total_records": 9019594,
    "total_size_bytes": 153932551
  },
  "tables": [
    {
      "name": "data",
      "database_name": "awslabbigdataagentstack_tripdata_db",
      "purpose": "Comprehensive NYC taxi trip records containing pickup/dropoff information, passenger details, fare breakdowns, and payment information for both green and yellow taxis",
      "table_type": "EXTERNAL_TABLE",
      "creation_time": "2025-10-17T15:58:43-07:00",
      "record_count": 9019594,
      "partitioning": {
        "partition_keys": [
          {
            "name": "taxi_class",
            "type": "string",
            "purpose": "Taxi classification (e.g., 'green' for green taxis, 'yellow' for yellow taxis)"
          },
          {
            "name": "year",
            "type": "string",
            "purpose": "Year of the trip for time-based partitioning"
          },
          {
            "name": "month",
            "type": "string",
            "purpose": "Month of the trip for time-based partitioning"
          }
        ]
      },
      "columns": [
        {
          "name": "vendorid",
          "type": "int",
          "purpose": "Unique identifier for the taxi vendor/company (e.g., 1 or 2 representing different taxi services)"
        },
        {
          "name": "lpep_pickup_datetime",
          "type": "timestamp",
          "purpose": "Date and time when the passenger was picked up (for green taxis)"
        },
        {
          "name": "lpep_dropoff_datetime",
          "type": "timestamp",
          "purpose": "Date and time when the passenger was dropped off (for green taxis)"
        },
        {
          "name": "store_and_fwd_flag",
          "type": "string",
          "purpose": "Flag indicating whether the trip record was held in vehicle memory before sending to the server (Y/N)"
        },
        {
          "name": "ratecodeid",
          "type": "bigint",
          "purpose": "Numeric code indicating the rate type applied to the trip (1=Standard, 2=JFK, 3=Newark, 4=Nassau/Westchester, 5=Negotiated, 6=Group Ride)"
        },
        {
          "name": "pulocationid",
          "type": "int",
          "purpose": "Location ID of the pickup location (corresponds to NYC taxi zone)"
        },
        {
          "name": "dolocationid",
          "type": "int",
          "purpose": "Location ID of the dropoff location (corresponds to NYC taxi zone)"
        },
        {
          "name": "passenger_count",
          "type": "bigint",
          "purpose": "Number of passengers in the trip"
        },
        {
          "name": "trip_distance",
          "type": "double",
          "purpose": "Distance traveled during the trip in miles"
        },
        {
          "name": "fare_amount",
          "type": "double",
          "purpose": "Base fare amount charged for the trip in USD"
        },
        {
          "name": "extra",
          "type": "double",
          "purpose": "Extra charges such as rush hour or overnight surcharge in USD"
        },
        {
          "name": "mta_tax",
          "type": "double",
          "purpose": "MTA (Metropolitan Transportation Authority) tax amount in USD"
        },
        {
          "name": "tip_amount",
          "type": "double",
          "purpose": "Tip amount given by the passenger in USD"
        },
        {
          "name": "tolls_amount",
          "type": "double",
          "purpose": "Total amount of tolls paid during the trip in USD"
        },
        {
          "name": "ehail_fee",
          "type": "double",
          "purpose": "E-hail fee charged for the trip in USD (if applicable)"
        },
        {
          "name": "improvement_surcharge",
          "type": "double",
          "purpose": "Improvement surcharge amount in USD"
        },
        {
          "name": "total_amount",
          "type": "double",
          "purpose": "Total amount charged to the passenger including all fees, taxes, and surcharges in USD"
        },
        {
          "name": "payment_type",
          "type": "bigint",
          "purpose": "Numeric code indicating payment method (1=Credit Card, 2=Cash, 3=No Charge, 4=Dispute, 5=Unknown, 6=Voided Trip)"
        },
        {
          "name": "trip_type",
          "type": "bigint",
          "purpose": "Numeric code indicating trip type (1=Street-hail, 2=Dispatch)"
        },
        {
          "name": "congestion_surcharge",
          "type": "double",
          "purpose": "Congestion pricing surcharge amount in USD (NYC congestion pricing zone)"
        },
        {
          "name": "cbd_congestion_fee",
          "type": "double",
          "purpose": "Central Business District (CBD) congestion fee amount in USD"
        },
        {
          "name": "tpep_pickup_datetime",
          "type": "timestamp",
          "purpose": "Date and time when the passenger was picked up (for yellow taxis, TPEP = Taxi and Limousine Commission Electronic Pairing)"
        },
        {
          "name": "tpep_dropoff_datetime",
          "type": "timestamp",
          "purpose": "Date and time when the passenger was dropped off (for yellow taxis)"
        },
        {
          "name": "airport_fee",
          "type": "double",
          "purpose": "Airport fee charged for trips to/from airports in USD"
        }
      ]
    }
  ],
  "sample_data": {
    "description": "Sample of 5 records from the data table showing typical trip information",
    "records": [
      {
        "vendorid": 2,
        "lpep_pickup_datetime": "2025-06-01 00:33:43",
        "lpep_dropoff_datetime": "2025-06-01 01:04:33",
        "store_and_fwd_flag": "N",
        "ratecodeid": 2,
        "pulocationid": 74,
        "dolocationid": 132,
        "passenger_count": 1,
        "trip_distance": 19.6,
        "fare_amount": 70.0,
        "extra": 0.0,
        "mta_tax": 0.5,
        "tip_amount": 19.61,
        "tolls_amount": 6.94,
        "improvement_surcharge": 1.0,
        "total_amount": 98.05,
        "payment_type": 1,
        "trip_type": 1,
        "congestion_surcharge": 0.0,
        "cbd_congestion_fee": 0.0,
        "taxi_class": "green",
        "year": "2025",
        "month": "06"
      },
      {
        "vendorid": 2,
        "lpep_pickup_datetime": "2025-06-01 00:07:45",
        "lpep_dropoff_datetime": "2025-06-01 00:14:52",
        "store_and_fwd_flag": "N",
        "ratecodeid": 1,
        "pulocationid": 75,
        "dolocationid": 74,
        "passenger_count": 2,
        "trip_distance": 1.37,
        "fare_amount": 9.3,
        "extra": 1.0,
        "mta_tax": 0.5,
        "tip_amount": 0.0,
        "tolls_amount": 0.0,
        "improvement_surcharge": 1.0,
        "total_amount": 11.8,
        "payment_type": 2,
        "trip_type": 1,
        "congestion_surcharge": 0.0,
        "cbd_congestion_fee": 0.0,
        "taxi_class": "green",
        "year": "2025",
        "month": "06"
      }
    ]
  },
  "business_context": {
    "industry": "Transportation/Taxi Services",
    "geography": "New York City (NYC)",
    "data_coverage": "NYC Green Taxis and Yellow Taxis trip records",
    "key_metrics": [
      "Trip distance and duration",
      "Fare calculations with various surcharges",
      "Payment methods and amounts",
      "Passenger counts",
      "Location-based analysis (pickup/dropoff zones)",
      "Vendor performance tracking"
    ],
    "use_cases": [
      "Revenue analysis and forecasting",
      "Driver performance evaluation",
      "Route optimization",
      "Demand pattern analysis",
      "Pricing strategy optimization",
      "Congestion impact analysis",
      "Payment method trends",
      "Customer behavior analysis"
    ],
    "data_quality_notes": "Data includes both green and yellow taxi records with comprehensive fare breakdowns. Some fields like ehail_fee, tpep_pickup_datetime, and tpep_dropoff_datetime may be null for certain taxi classes."
  }
}
